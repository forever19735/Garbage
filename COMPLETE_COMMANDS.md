# LINE Bot 完整指令清單

## 🤖 垃圾收集提醒 Bot - 所有指令總覽

### 📋 分類索引
- [排程管理](#排程管理) - 設定提醒時間和星期
- [成員管理](#成員管理) - 輪值安排和成員操作
- [群組管理](#群組管理) - LINE 群組設定
- [管理重置](#管理重置) - 清空和重置功能
- [測試調試](#測試調試) - 測試功能和狀態查看

---

## 排程管理

### 查看排程
| 指令 | 功能 | 範例 |
|------|------|------|
| `@schedule` | 顯示目前推播排程 | `@schedule` |

### 設定排程
| 指令 | 功能 | 範例 |
|------|------|------|
| `@settime HH:MM` | 設定推播時間 | `@settime 18:30` |
| `@setday 星期` | 設定推播星期 | `@setday mon,thu` |
| `@setcron 星期 時 分` | 同時設定星期和時間 | `@setcron tue,fri 20 15` |

**支援的星期格式：** `mon, tue, wed, thu, fri, sat, sun`

---

## 成員管理

### 查看成員
| 指令 | 功能 | 範例 |
|------|------|------|
| `@members` | 顯示完整輪值表 | `@members` |

### 管理成員
| 指令 | 功能 | 範例 |
|------|------|------|
| `@setweek 週數 成員列表` | 設定整週成員 | `@setweek 1 Alice,Bob,Charlie` |
| `@addmember 週數 成員名` | 添加成員到指定週 | `@addmember 2 David` |
| `@removemember 週數 成員名` | 從指定週移除成員 | `@removemember 1 Alice` |

### 清空成員
| 指令 | 功能 | 範例 |
|------|------|------|
| `@clear_week 週數` | 清空指定週的成員 | `@clear_week 1` |
| `@clear_members` | 清空所有週的成員安排 | `@clear_members` |

---

## 群組管理

### 查看群組
| 指令 | 功能 | 範例 |
|------|------|------|
| `@groups` | 顯示已設定的群組列表 | `@groups` |
| `@info` | 顯示詳細群組資訊 | `@info` |

### 管理群組
| 指令 | 功能 | 範例 |
|------|------|------|
| `@debug` | 自動添加當前群組 ID | `@debug` |
| `@clear_groups` | 清空所有群組 ID | `@clear_groups` |

**注意：** 需要在每個想要接收提醒的群組中執行一次 `@debug`

---

## 管理重置

### 系統狀態
| 指令 | 功能 | 範例 |
|------|------|------|
| `@status` | 查看完整系統狀態 | `@status` |

### 重置功能
| 指令 | 功能 | 範例 | 警告 |
|------|------|------|------|
| `@reset_all` | 重置所有資料 (成員+群組) | `@reset_all` | ⚠️ 無法復原 |

**系統狀態包含：**
- 成員輪值狀態 (總週數、目前週)
- 群組狀態 (群組數量、列表)
- 排程狀態 (時區、任務資訊)

---

## 測試調試

### 測試功能
| 指令 | 功能 | 範例 |
|------|------|------|
| `@test` | 立即執行推播測試 | `@test` |

### 查看資訊
| 指令 | 功能 | 範例 |
|------|------|------|
| `@status` | 完整系統狀態摘要 | `@status` |
| `@schedule` | 排程資訊 | `@schedule` |
| `@members` | 成員輪值表 | `@members` |
| `@groups` | 群組列表 | `@groups` |
| `@info` | 詳細群組資訊 | `@info` |

### 幫助系統
| 指令 | 功能 | 範例 |
|------|------|------|
| `@help` | 顯示所有指令 | `@help` |
| `@help 類別` | 顯示特定類別指令 | `@help schedule` |

**可用類別：** `schedule`, `members`, `groups`, `manage`, `test`

---

## 🏃‍♂️ 新手快速開始

1. **添加群組：** 在想要接收提醒的群組中輸入 `@debug`
2. **設定時間：** 輸入 `@settime 18:00` (設定晚上6點提醒)
3. **設定成員：** 輸入 `@setweek 1 姓名1,姓名2` (設定第1週成員)
4. **測試推播：** 輸入 `@test` (確認一切正常)

## 💡 使用技巧

### 時間設定
- **台北時間：** 所有時間都是台北時間 (Asia/Taipei)
- **24小時制：** 使用 24 小時制，如 `18:30` 表示晚上 6:30
- **多天設定：** 用逗號分隔，如 `mon,wed,fri`

### 成員設定
- **週數編號：** 從 1 開始，如第 1 週、第 2 週
- **成員分隔：** 用逗號分隔成員名稱，不要加空格
- **特殊字符：** 支援中文和表情符號，如 `小明🌟,小華🔥`

### 群組管理
- **自動檢測：** `@debug` 會自動檢測並添加當前群組 ID
- **多群組支援：** 可在多個群組中執行 `@debug`
- **群組 ID 格式：** 以 'C' 開頭的長字串

### 資料持久化
- **自動儲存：** 所有設定都會自動儲存到檔案
- **重啟保持：** 應用重啟後設定不會丟失
- **即時生效：** 設定變更立即生效

## 🔧 故障排除

### 常見問題
1. **推播沒收到：** 確認群組 ID 已添加 (`@groups` 查看)
2. **時間不對：** 檢查是否為台北時間 (`@schedule` 確認)
3. **成員顯示錯誤：** 確認週數和成員名稱格式 (`@members` 查看)

### 測試步驟
1. `@status` - 查看整體狀態
2. `@test` - 測試推播功能
3. `@schedule` - 確認排程設定
4. `@members` - 確認成員安排

---

**版本：** 2025.10.27  
**功能：** 完整指令支援、持久化儲存、多群組推播  
**時區：** Asia/Taipei (台北時間)
