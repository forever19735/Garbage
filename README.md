# ğŸ—‘ï¸ LINE åƒåœ¾æ”¶é›†æé†’ Bot

æ™ºèƒ½æˆå“¡è¼ªå€¼ç®¡ç†ç³»çµ±ï¼Œæ”¯æ´è‡ªç„¶é€±è¨ˆç®—çš„ LINE Botã€‚è‡ªå‹•æ¨æ’­æé†’ã€å½ˆæ€§æ’ç¨‹è¨­å®šã€å¤šç¾¤çµ„ç®¡ç†ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ”„ è‡ªç„¶é€±è¼ªå€¼ç³»çµ±
- **æ™ºèƒ½è¨ˆç®—**ï¼šåŸºæ–¼çœŸå¯¦é€±ä¸€åˆ°é€±æ—¥çš„è‡ªç„¶é€±å¾ªç’°
- **å½ˆæ€§æˆå“¡**ï¼šæ¯é€±å¯è¨­å®šä¸åŒæ•¸é‡çš„è² è²¬äºº
- **è‡ªå‹•åˆ‡æ›**ï¼šæ¯å€‹è‡ªç„¶é€±è‡ªå‹•è¼ªæ›¿ï¼Œç„¡éœ€æ‰‹å‹•ç®¡ç†
- **åŸºæº–æ—¥æœŸ**ï¼šé¦–æ¬¡è¨­å®šæ™‚è‡ªå‹•è¨˜éŒ„ï¼Œå¯éš¨æ™‚é‡ç½®

### â° å½ˆæ€§æ’ç¨‹æ¨æ’­
- **è‡ªè¨‚æ™‚é–“**ï¼šä»»æ„è¨­å®šæ¨æ’­æ™‚é–“ï¼ˆ24å°æ™‚åˆ¶ï¼‰
- **å¤šæ—¥æ¨æ’­**ï¼šæ”¯æ´ä¸€é€±å…§å¤šå¤©æ¨æ’­ï¼ˆé€±ä¸€åˆ°é€±æ—¥ï¼‰
- **å³æ™‚é è¦½**ï¼šè¨­å®šå¾Œç«‹å³é¡¯ç¤ºä¸‹æ¬¡åŸ·è¡Œæ™‚é–“
- **å°åŒ—æ™‚å€**ï¼šå…¨ç¨‹ä½¿ç”¨ Asia/Taipei æ™‚å€

### ğŸ“± å¤šç¾¤çµ„ç®¡ç†
- **è‡ªå‹•åµæ¸¬**ï¼šBot åŠ å…¥ç¾¤çµ„å¾Œè‡ªå‹•è¨˜éŒ„ç¾¤çµ„ ID
- **å¤šç¾¤åŒæ­¥**ï¼šæ”¯æ´åŒæ™‚æ¨æ’­åˆ°å¤šå€‹ LINE ç¾¤çµ„
- **æŒä¹…å„²å­˜**ï¼šç¾¤çµ„è¨­å®šæ°¸ä¹…ä¿å­˜ï¼Œé‡å•Ÿå¾Œä¸éºå¤±

### ğŸ›ï¸ è±å¯Œç®¡ç†åŠŸèƒ½
- **æŒ‡ä»¤åˆ†é¡**ï¼šæ’ç¨‹ã€æˆå“¡ã€ç¾¤çµ„ã€æ¸¬è©¦ç­‰åˆ†é¡ç®¡ç†
- **ç‹€æ…‹ç›£æ§**ï¼šå®Œæ•´çš„ç³»çµ±ç‹€æ…‹æª¢è¦–
- **é‡ç½®é¸é …**ï¼šå¯é¸æ“‡æ€§é‡ç½®ä¸åŒè³‡æ–™
- **ä½¿ç”¨èªªæ˜**ï¼šå…§å»ºå®Œæ•´çš„å¹«åŠ©ç³»çµ±

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. éƒ¨ç½²åˆ° Railway

1. åˆ° [Railway](https://railway.app) å»ºç«‹æ–°å°ˆæ¡ˆ
2. é€£çµä½ çš„ GitHub å°ˆæ¡ˆï¼ˆä¸Šå‚³æ­¤è³‡æ–™å¤¾ï¼‰
3. åœ¨ Railway ä¸­è¨­å®šç’°å¢ƒè®Šæ•¸ï¼š

| è®Šæ•¸åç¨± | èªªæ˜ | å¿…è¦æ€§ |
|-----------|------|--------|
| `LINE_CHANNEL_ACCESS_TOKEN` | å¾ LINE Developers å–å¾— | âœ… å¿…è¦ |
| `LINE_CHANNEL_SECRET` | å¾ LINE Developers å–å¾— | âœ… å¿…è¦ |
| `LINE_GROUP_ID` | ç¾¤çµ„ IDï¼ˆå¯é€é `@debug` æŒ‡ä»¤è‡ªå‹•å–å¾—ï¼‰ | âšª å¯é¸ |

4. éƒ¨ç½²å®Œæˆå¾Œï¼Œå°‡ Railway æä¾›çš„ URL è¨­å®šç‚º LINE Developers çš„ Webhook URL

### 2. LINE Developers è¨­å®š

1. å‰å¾€ [LINE Developers Console](https://developers.line.biz/)
2. å»ºç«‹æ–°çš„ Provider å’Œ Messaging API Channel
3. å–å¾— **Channel Access Token** å’Œ **Channel Secret**
4. åœ¨ Webhook settings ä¸­è¨­å®šä½ çš„ Railway URL
5. å°‡ Bot åŠ å…¥åˆ°ç›®æ¨™ LINE ç¾¤çµ„

### 3. åˆå§‹è¨­å®šï¼ˆåœ¨ LINE ç¾¤çµ„ä¸­ï¼‰

```
@debug                        # æ·»åŠ ç¾¤çµ„ ID
@settime 18:00               # è¨­å®šæ¨æ’­æ™‚é–“  
@setday mon,thu              # è¨­å®šæ¨æ’­æ—¥æœŸ
@setweek 1 Alice,Bob         # è¨­å®šç¬¬1é€±æˆå“¡
@setweek 2 Charlie,David     # è¨­å®šç¬¬2é€±æˆå“¡
@status                      # æª¢æŸ¥è¨­å®šç‹€æ…‹
```

## ğŸ“‹ æŒ‡ä»¤å¤§å…¨

### ğŸ”¥ å¸¸ç”¨æŒ‡ä»¤
- `@schedule` - æŸ¥çœ‹æ¨æ’­æ’ç¨‹
- `@members` - æŸ¥çœ‹æˆå“¡è¼ªå€¼è¡¨  
- `@groups` - æŸ¥çœ‹ç¾¤çµ„è¨­å®š
- `@status` - æŸ¥çœ‹ç³»çµ±ç‹€æ…‹
- `@debug` - æ·»åŠ ç¾¤çµ„ ID

### âš™ï¸ æ’ç¨‹è¨­å®š
- `@settime 18:30` - è¨­å®šæ¨æ’­æ™‚é–“
- `@setday mon,thu` - è¨­å®šæ¨æ’­æ˜ŸæœŸ  
- `@setcron tue,fri 20 15` - åŒæ™‚è¨­å®šæ˜ŸæœŸå’Œæ™‚é–“

### ğŸ‘¥ æˆå“¡ç®¡ç†
- `@setweek 1 Alice,Bob` - è¨­å®šç¬¬1é€±æˆå“¡
- `@addmember 1 Charlie` - æ·»åŠ æˆå“¡åˆ°ç¬¬1é€±
- `@removemember 1 Alice` - å¾ç¬¬1é€±ç§»é™¤æˆå“¡
- `@clear_week 1` - æ¸…ç©ºç¬¬1é€±æˆå“¡
- `@clear_members` - æ¸…ç©ºæ‰€æœ‰æˆå“¡

### ğŸ“± ç¾¤çµ„ç®¡ç†
- `@info` - é¡¯ç¤ºè©³ç´°ç¾¤çµ„è³‡è¨Š
- `@clear_groups` - æ¸…ç©ºæ‰€æœ‰ç¾¤çµ„ ID

### ğŸ”„ é‡ç½®åŠŸèƒ½
- `@reset_date` - é‡ç½®åŸºæº–æ—¥æœŸç‚ºä»Šå¤©
- `@reset_all` - é‡ç½®æ‰€æœ‰è³‡æ–™ï¼ˆè¬¹æ…ä½¿ç”¨ï¼‰

### â“ å¹«åŠ©ç³»çµ±
- `@help` - é¡¯ç¤ºå®Œæ•´æŒ‡ä»¤åˆ—è¡¨
- `@help schedule` - æ’ç¨‹ç®¡ç†æŒ‡ä»¤èªªæ˜
- `@help members` - æˆå“¡ç®¡ç†æŒ‡ä»¤èªªæ˜
- `@help groups` - ç¾¤çµ„ç®¡ç†æŒ‡ä»¤èªªæ˜

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

### æ ¸å¿ƒæŠ€è¡“æ£§
- **Flask** - Web æ¡†æ¶
- **LINE Bot SDK v3** - LINE è¨Šæ¯è™•ç†
- **APScheduler** - èƒŒæ™¯æ’ç¨‹ä»»å‹™
- **pytz** - æ™‚å€è™•ç†

### ç‰¹è‰²è¨­è¨ˆ
- **æŒä¹…åŒ–å„²å­˜**ï¼šä½¿ç”¨ JSON æª”æ¡ˆå„²å­˜æ‰€æœ‰è¨­å®š
- **è‡ªç„¶é€±ç®—æ³•**ï¼šåŸºæ–¼é€±ä¸€ç‚ºèµ·å§‹çš„çœŸå¯¦é€±æœŸè¨ˆç®—
- **å®¹éŒ¯è¨­è¨ˆ**ï¼šå®Œæ•´çš„ä¾‹å¤–è™•ç†å’ŒéŒ¯èª¤æç¤º
- **æ¨¡çµ„åŒ–çµæ§‹**ï¼šæ¸…æ™°çš„åŠŸèƒ½åˆ†é›¢å’Œç¨‹å¼æ¶æ§‹

## ğŸ“Š ä½¿ç”¨ç¯„ä¾‹

### æƒ…å¢ƒï¼šå…¬å¸åƒåœ¾æ”¶é›†è¼ªå€¼

**è¨­å®šéç¨‹ï¼š**
```
# 1. æ·»åŠ ç¾¤çµ„ä¸¦è¨­å®šæ’ç¨‹
@debug                        # è¨˜éŒ„ç¾¤çµ„ ID
@settime 17:00               # æ¯å¤© 17:00 æé†’
@setday mon,wed,fri          # é€±ä¸€ã€ä¸‰ã€äº”æé†’

# 2. è¨­å®šè¼ªå€¼æˆå“¡ï¼ˆ3é€±å¾ªç’°ï¼‰
@setweek 1 å¼µå°æ˜,æå°è¯      # ç¬¬1é€±ï¼šå¼µå°æ˜ã€æå°è¯
@setweek 2 ç‹å¤§é›„            # ç¬¬2é€±ï¼šç‹å¤§é›„
@setweek 3 é™³å°ç¾,æ—å¿—æ˜,é»ƒå¤§åŒ # ç¬¬3é€±ï¼šé™³å°ç¾ã€æ—å¿—æ˜ã€é»ƒå¤§åŒ

# 3. æª¢æŸ¥è¨­å®š
@status                      # æª¢è¦–å®Œæ•´ç‹€æ…‹
@members                     # æª¢è¦–è¼ªå€¼è¡¨
```

**æ¨æ’­è¨Šæ¯ç¯„ä¾‹ï¼š**
```
ğŸ—‘ï¸ åƒåœ¾æ”¶é›†æé†’

ğŸ“… æ—¥æœŸï¼š2025å¹´10æœˆ27æ—¥ (é€±ä¸€)
ğŸ‘¥ æœ¬é€±è² è²¬äººï¼šå¼µå°æ˜ã€æå°è¯

è«‹è¨˜å¾—æ”¶é›†åƒåœ¾ï¼ğŸ™
```

## ğŸ”§ æœ¬åœ°é–‹ç™¼

### ç’°å¢ƒéœ€æ±‚
- Python 3.8+
- pip

### å®‰è£æ­¥é©Ÿ
```bash
# 1. å…‹éš†å°ˆæ¡ˆ
git clone https://github.com/ä½ çš„ç”¨æˆ¶å/åƒåœ¾æ”¶é›†æé†’Bot.git
cd åƒåœ¾æ”¶é›†æé†’Bot

# 2. å®‰è£ä¾è³´
pip install -r requirements.txt

# 3. è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ˆå»ºç«‹ .env æª”æ¡ˆï¼‰
echo "LINE_CHANNEL_ACCESS_TOKEN=ä½ çš„_access_token" > .env
echo "LINE_CHANNEL_SECRET=ä½ çš„_channel_secret" >> .env

# 4. åŸ·è¡Œæ‡‰ç”¨
python main.py
```

### æ¸¬è©¦åŠŸèƒ½
```python
# æ¸¬è©¦æˆå“¡è¼ªå€¼åŠŸèƒ½
from main import get_current_group, get_member_schedule

# æŸ¥çœ‹ç•¶å‰è² è²¬äºº
current = get_current_group()
print(f"ç•¶å‰è² è²¬äºº: {current}")

# æŸ¥çœ‹å®Œæ•´æ’ç¨‹
schedule = get_member_schedule()
print(f"ç¸½é€±æ•¸: {schedule['total_weeks']}")
print(f"ç•¶å‰ç¬¬ {schedule['current_week']} é€±")
```

## ğŸ¤ è²¢ç»æŒ‡å—

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

### é–‹ç™¼è¦ç¯„
- ä½¿ç”¨ Python æ¨™æº–çš„ç¨‹å¼ç¢¼é¢¨æ ¼
- æ–°å¢åŠŸèƒ½è«‹åŒ…å«é©ç•¶çš„è¨»è§£
- é‡è¦è®Šæ›´è«‹æ›´æ–° README

### å•é¡Œå›å ±
è«‹åœ¨ Issue ä¸­åŒ…å«ï¼š
- å•é¡Œæè¿°
- å¾©ç¾æ­¥é©Ÿ  
- åŸ·è¡Œç’°å¢ƒè³‡è¨Š
- ç›¸é—œæˆªåœ–æˆ–æ—¥èªŒ

## ğŸ“œ æˆæ¬Šæ¢æ¬¾

MIT License - è©³è¦‹ LICENSE æª”æ¡ˆ

## ğŸ”— ç›¸é—œé€£çµ

- [LINE Developers](https://developers.line.biz/)
- [Railway éƒ¨ç½²å¹³å°](https://railway.app)
- [Flask å®˜æ–¹æ–‡ä»¶](https://flask.palletsprojects.com/)
- [APScheduler æ–‡ä»¶](https://apscheduler.readthedocs.io/)

---

â­ å¦‚æœé€™å€‹å°ˆæ¡ˆå°ä½ æœ‰å¹«åŠ©ï¼Œè«‹çµ¦å€‹ Starï¼